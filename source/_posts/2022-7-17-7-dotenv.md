---
title: Express框架(11) dotenv 套件
date: 2022-07-17 14:07:00
categories: Node.js
tags: 
- Node.js
- Express
description: '使用dotenv來儲存機密資訊'
---

## 什麼是dotenv

一般來說不會把資料庫連線帳號、密碼等相關訊息寫在程式碼裡面，通常寫在一個檔案裡面。而在 node.js 的專案裡，我們可以將機密資訊儲存在 .env 檔中來管理。這支.env 檔案不會加入版本控制，也就是 git 裡面。

## 安裝

```
npm install dotenv --save  // 安裝套件
```

## 載入套件

在express的專案中載入套件

``` js
require('dotenv').config();
```

## 新增 .env 檔

在專案根目錄新增 .env 檔

![](https://firebasestorage.googleapis.com/v0/b/project-fb4ac.appspot.com/o/2022071702.png?alt=media&token=7a875b5c-01fa-4eb2-9b41-795559f47e02)

## 新增資料

在 .env檔裡可以儲存資訊，用`變數=值`的方式儲存

``` env
MYDATA=123456
```

## 讀取資料

.env檔的資料建好後，可以來讀取讀，語法是:

```
process.env.變數名稱
```

## heroku 環境變數設定

當後端程式要放到 Heroku 等雲端主機時，.env 裡的資訊可以寫在:

1. 到 heroku 專案的 setting，點 reveal config vars

![](https://cdn-images-1.medium.com/max/1000/1*MONogEC0PBaChNORvjGmpQ.png)

2. 輸入 .env 檔案裡資料的 key 跟 value

![](https://cdn-images-1.medium.com/max/1000/1*pIvETgX6mHwtCAz4AmGIKg.png)








