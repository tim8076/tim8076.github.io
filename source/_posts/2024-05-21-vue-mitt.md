---
title: vue (13) mitt 跨元件資料傳遞
date: 2024-05-21 14:41:24
categories: Vue
tags: vue
description: '使用 mitt 跨元件資料傳遞'
---

## mitt 傳遞資料

當元件資料是內外曾在傳遞時，會使用 props 跟 emit，但如果是兩個不同的元件傳遞資料時，可以使用 mitt套件。

概念圖：

![](https://ithelp.ithome.com.tw/upload/images/20211004/201183479Qh0pKnAlN.png)

## 套件安裝

``` 
npm install --save mitt
```

引入套件
``` js
import mitt from 'mitt'

const emitter = mitt();
```

在要發出資料的元件內，用 emitter.emit('自訂名稱', 資料) 來發出資料

``` js
data() {
  return {
    product: {
      name: '蛋餅',
      price: 30,
      vegan: false
    },
  }
},
methods: {
  sendData() {
    emitter.emit('send-product', this.product);
  }
},
```

在要接收資料的元件內，在生命週期 created 內用 emitter.on 監聽事件

``` js
created() {
  emitter.on('send-product', (data) => {
    this.item = data;
  })
},
```




